[2019-04-19 16:07:22.178 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:07:25.072 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:07:25.854 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:07:28.696 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:07:29.222 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:07:29.300 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:07:29.328 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:07:29.659 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:07:29.803 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:07:40.614 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:07:41.318 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:07:41.841 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:07:41.933 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:07:41.960 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:07:42.205 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:07:42.275 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:07:42.487 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 686.3895ms
[2019-04-19 16:07:42.737 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 2132.387ms 401 
[2019-04-19 16:07:49.546 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:07:49.596 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:07:54.078 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:07:57.309 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "", Sex: "女" })
[2019-04-19 16:07:57.671 Information]  
 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor 
 Executing ObjectResult, writing value of type '"AdminSystem.Infrastructure.Common.ResultData`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[2019-04-19 16:07:57.892 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" in 8276.4265ms
[2019-04-19 16:07:57.917 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 8370.839ms 200 application/json; charset=utf-8
[2019-04-19 16:08:48.419 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:08:50.008 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:08:50.649 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:08:53.290 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:08:53.472 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:08:53.538 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:08:53.571 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:08:53.897 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:08:53.932 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:09:04.457 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:09:05.251 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:09:06.315 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:09:06.324 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:09:06.350 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:09:06.757 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:09:06.820 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:09:06.951 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 680.1798ms
[2019-04-19 16:09:07.144 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 2696.4783ms 401 
[2019-04-19 16:10:08.678 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:10:10.478 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:10:11.176 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:10:15.124 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:10:15.370 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:10:15.464 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:10:15.555 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:10:16.184 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:10:16.233 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:10:28.043 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:10:29.313 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:10:29.525 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:10:29.554 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:10:30.193 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:10:30.892 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:10:31.315 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:10:31.351 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 1868.1124ms
[2019-04-19 16:10:31.410 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 3382.2548ms 401 
[2019-04-19 16:10:37.994 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:10:38.076 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:10:38.311 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:10:38.377 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "asdf", Sex: "女" })
[2019-04-19 16:10:45.181 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:11:45.257 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:11:47.179 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:11:48.012 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:11:50.120 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:11:50.327 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:11:50.393 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:11:50.437 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:11:50.817 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:11:50.907 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:12:00.253 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:12:02.588 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:12:02.979 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:12:03.406 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:12:03.845 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:12:04.231 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:12:04.920 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:12:04.945 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 2005.106ms
[2019-04-19 16:12:05.279 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 5038.5387ms 401 
[2019-04-19 16:12:18.727 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:12:18.743 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:12:18.915 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:12:18.995 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "asdf", Sex: "女" })
[2019-04-19 16:12:23.466 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:13:03.404 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ApplicationUsers` (`Name`, `Sex`, `UserName`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `ApplicationUsers`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
[2019-04-19 16:14:05.476 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:14:07.312 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:14:07.938 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:14:10.007 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:14:10.176 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:14:10.233 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:14:10.263 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:14:10.585 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:14:10.625 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:14:23.004 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:14:24.184 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:14:24.317 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:14:25.372 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:14:25.429 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:14:27.254 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:14:27.503 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:14:27.773 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 3508.2809ms
[2019-04-19 16:14:28.015 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 5020.7374ms 401 
[2019-04-19 16:14:31.321 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:14:31.473 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:14:31.988 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:14:32.386 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "asdf", Sex: "女" })
[2019-04-19 16:14:36.965 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:14:37.058 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:14:37.060 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:14:37.131 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:14:37.138 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "asdf", Sex: "女" })
[2019-04-19 16:14:39.636 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:15:08.035 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ApplicationUsers` (`Name`, `Sex`, `UserName`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `ApplicationUsers`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
[2019-04-19 16:15:08.035 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ApplicationUsers` (`Name`, `Sex`, `UserName`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `ApplicationUsers`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
[2019-04-19 16:17:14.575 Information]  
 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager 
 User profile is available. Using '"C:\Users\15889421601\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[2019-04-19 16:17:16.505 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrating database associated with context "ApplicationDbContext"
[2019-04-19 16:17:17.344 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:17:20.082 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:17:20.261 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='AdminSystem' AND TABLE_NAME='__EFMigrationsHistory';"
[2019-04-19 16:17:20.325 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;"
[2019-04-19 16:17:20.377 Information]  
 Microsoft.EntityFrameworkCore.Migrations 
 No migrations were applied. The database is already up to date.
[2019-04-19 16:17:20.771 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM `ApplicationUsers` AS `a`)
    THEN TRUE ELSE FALSE
END"
[2019-04-19 16:17:20.936 Information]  
 AdminSystem.Infrastructure.ApplicationDbContext 
 Migrated database associated with context "ApplicationDbContext"
[2019-04-19 16:17:31.987 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/values  
[2019-04-19 16:17:34.750 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"Get\", controller = \"Values\"}". Executing action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)"
[2019-04-19 16:17:34.979 Information]  
 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService 
 Authorization failed.
[2019-04-19 16:17:35.553 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'.
[2019-04-19 16:17:36.255 Information]  
 Microsoft.AspNetCore.Mvc.ChallengeResult 
 Executing ChallengeResult with authentication schemes ([]).
[2019-04-19 16:17:37.021 Information]  
 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler 
 AuthenticationScheme: "BearerIdentityServerAuthenticationJwt" was challenged.
[2019-04-19 16:17:37.324 Information]  
 IdentityServer4.AccessTokenValidation.IdentityServerAuthenticationHandler 
 AuthenticationScheme: "Bearer" was challenged.
[2019-04-19 16:17:37.357 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executed action "UserIdentity.Controllers.ValuesController.Get (AdminSystem.Api)" in 2424.4049ms
[2019-04-19 16:17:37.556 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request finished in 5584.2427ms 401 
[2019-04-19 16:17:43.815 Information]  
 Microsoft.AspNetCore.Hosting.Internal.WebHost 
 Request starting HTTP/1.1 GET http://localhost:50384/api/home/createUser  
[2019-04-19 16:17:43.841 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Route matched with "{action = \"CreateUser\", controller = \"Home\"}". Executing action "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)"
[2019-04-19 16:17:44.077 Information]  
 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker 
 Executing action method "AdminSystem.Api.Controllers.HomeController.CreateUser (AdminSystem.Api)" - Validation state: Valid
[2019-04-19 16:17:44.141 Information]  
 AdminSystem.Application.Behaviors.LoggingBehavior 
 ----- Handling command "CreateUserCommand" (CreateUserCommand { UserName: "115516", Name: "asdf", Sex: "女" })
[2019-04-19 16:17:48.291 Information]  
 Microsoft.EntityFrameworkCore.Infrastructure 
 Entity Framework Core "2.2.4-servicing-10062" initialized '"ApplicationDbContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "MigrationsAssembly=AdminSystem.Api "
[2019-04-19 16:17:58.581 Information]  
 Microsoft.EntityFrameworkCore.Database.Command 
 Executed DbCommand ("30"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `ApplicationUsers` (`Name`, `Sex`, `UserName`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `ApplicationUsers`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();"
